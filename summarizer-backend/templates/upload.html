<!doctype html>
<html>
<head>
    <title>Multi-Paper Summarizer</title>
</head>
<body>
    <h1>Upload Papers</h1>
    <form action="/summarize" method="post" enctype="multipart/form-data">
        <input type="file" name="files" multiple required><br><br>
        <button type="submit">Summarize</button>
    </form>

    {% if documents %}
        <h2>Individual Summaries</h2>
        {% for doc in documents %}
            <h3>{{ doc.filename }}</h3>
            <textarea style="width:100%;height:120px;">{{ doc.summary }}</textarea>
        {% endfor %}
    {% endif %}

    {% if aggregated_summary %}
        <h2>Aggregated Summary</h2>
        <textarea style="width:100%;height:200px;">{{ aggregated_summary }}</textarea>

        <form action="/download" method="post">
            <input type="hidden" name="combined_text" value="{{ combined_text|e }}">
            <button type="submit">Download</button>
        </form>
    {% endif %}
</body>
</html>
